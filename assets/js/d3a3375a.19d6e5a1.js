"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7276],{3992:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>t,contentTitle:()=>c,default:()=>j,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"registration/registration","title":"Dokumentacja Rejestracji U\u017cytkownika","description":"Wst\u0119p","source":"@site/docs/registration/registration.md","sourceDirName":"registration","slug":"/registration/","permalink":"/docs/registration/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Dokumentacja Modelu Bazy Danych","permalink":"/docs/data-model/"},"next":{"title":"Scenariusze Testowe dla Rejestracji U\u017cytkownika","permalink":"/docs/registration/registration-test-scenarios"}}');var a=n(4848),s=n(8453);const o={},c="Dokumentacja Rejestracji U\u017cytkownika",t={},d=[{value:"Wst\u0119p",id:"wst\u0119p",level:2},{value:"Przegl\u0105d Architektury",id:"przegl\u0105d-architektury",level:2},{value:"Modele Danych",id:"modele-danych",level:2},{value:"Klasa <code>User</code>",id:"klasa-user",level:3},{value:"Klasa <code>SecurityUser</code>",id:"klasa-securityuser",level:3},{value:"Us\u0142ugi Rejestracji i Logowania",id:"us\u0142ugi-rejestracji-i-logowania",level:2},{value:"<code>UserService</code>",id:"userservice",level:3},{value:"<code>TokenService</code>",id:"tokenservice",level:3},{value:"<code>JpaUserDetailsService</code>",id:"jpauserdetailsservice",level:3},{value:"Konfiguracja Zabezpiecze\u0144",id:"konfiguracja-zabezpiecze\u0144",level:2},{value:"<code>SecurityConfig</code>",id:"securityconfig",level:3},{value:"<code>RsaKeyProperties</code>",id:"rsakeyproperties",level:3},{value:"Instrukcja Krok po Kroku",id:"instrukcja-krok-po-kroku",level:2},{value:"Krok 1: Utworzenie Konta U\u017cytkownika",id:"krok-1-utworzenie-konta-u\u017cytkownika",level:3},{value:"Krok 2: Zabezpieczenie Has\u0142a",id:"krok-2-zabezpieczenie-has\u0142a",level:3},{value:"Krok 3: Generowanie Tokenu JWT",id:"krok-3-generowanie-tokenu-jwt",level:3}];function l(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"dokumentacja-rejestracji-u\u017cytkownika",children:"Dokumentacja Rejestracji U\u017cytkownika"})}),"\n",(0,a.jsx)(i.h2,{id:"wst\u0119p",children:"Wst\u0119p"}),"\n",(0,a.jsxs)(i.p,{children:["Ten dokument opisuje proces rejestracji u\u017cytkownika w aplikacji ",(0,a.jsx)(i.code,{children:"czas-na-wypad"}),", wykorzystuj\u0105cy autoryzacj\u0119, serwisy u\u017cytkownika, oraz konfiguracj\u0119 zabezpiecze\u0144. Proces rejestracji obejmuje tworzenie konta oraz generowanie tokenu uwierzytelniaj\u0105cego."]}),"\n",(0,a.jsx)(i.h2,{id:"przegl\u0105d-architektury",children:"Przegl\u0105d Architektury"}),"\n",(0,a.jsx)(i.p,{children:"Przegl\u0105d procesu rejestracji u\u017cytkownika obejmuje:"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Kontrolery"}),": ",(0,a.jsx)(i.code,{children:"UserController"})," odpowiada za zarz\u0105dzanie \u017c\u0105daniami HTTP zwi\u0105zanymi z rejestracj\u0105."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Serwisy"}),": ",(0,a.jsx)(i.code,{children:"UserService"}),", ",(0,a.jsx)(i.code,{children:"TokenService"})," obs\u0142uguj\u0105 logik\u0119 biznesow\u0105."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Repozytoria"}),": ",(0,a.jsx)(i.code,{children:"UserRepository"}),", ",(0,a.jsx)(i.code,{children:"SqlUserRepository"})," obs\u0142uguj\u0105 dost\u0119p do bazy danych."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Konfiguracja Bezpiecze\u0144stwa"}),": ",(0,a.jsx)(i.code,{children:"SecurityConfig"}),", ",(0,a.jsx)(i.code,{children:"RsaKeyProperties"})," zarz\u0105dzaj\u0105 konfiguracj\u0105 uwierzytelnienia i token\xf3w."]}),"\n"]}),"\n",(0,a.jsx)(i.h2,{id:"modele-danych",children:"Modele Danych"}),"\n",(0,a.jsxs)(i.h3,{id:"klasa-user",children:["Klasa ",(0,a.jsx)(i.code,{children:"User"})]}),"\n",(0,a.jsxs)(i.p,{children:["Klasa ",(0,a.jsx)(i.code,{children:"User"})," reprezentuje u\u017cytkownika aplikacji, zawieraj\u0105c pola takie jak:"]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"ID"})," - unikalny identyfikator"]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"username"})," - nazwa u\u017cytkownika"]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"password"})," - zaszyfrowane has\u0142o"]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"roles"})," - role przypisane u\u017cytkownikowi"]}),"\n"]}),"\n",(0,a.jsxs)(i.h3,{id:"klasa-securityuser",children:["Klasa ",(0,a.jsx)(i.code,{children:"SecurityUser"})]}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.code,{children:"SecurityUser"})," to klasa opakowuj\u0105ca ",(0,a.jsx)(i.code,{children:"User"}),", dostosowuj\u0105c jego w\u0142a\u015bciwo\u015bci do wymaga\u0144 Spring Security."]}),"\n",(0,a.jsx)(i.h2,{id:"us\u0142ugi-rejestracji-i-logowania",children:"Us\u0142ugi Rejestracji i Logowania"}),"\n",(0,a.jsx)(i.h3,{id:"userservice",children:(0,a.jsx)(i.code,{children:"UserService"})}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.code,{children:"UserService"})," zarz\u0105dza logik\u0105 rejestracji, tworzeniem u\u017cytkownika oraz sprawdzaniem jego poprawno\u015bci. Implementuje metody do zapisywania u\u017cytkownika i walidacji danych."]}),"\n",(0,a.jsx)(i.h3,{id:"tokenservice",children:(0,a.jsx)(i.code,{children:"TokenService"})}),"\n",(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.code,{children:"TokenService"})," zajmuje si\u0119 generowaniem i zarz\u0105dzaniem tokenami JWT dla uwierzytelnienia u\u017cytkownika."]}),"\n",(0,a.jsx)(i.h3,{id:"jpauserdetailsservice",children:(0,a.jsx)(i.code,{children:"JpaUserDetailsService"})}),"\n",(0,a.jsxs)(i.p,{children:["Klasa implementuj\u0105ca interfejs ",(0,a.jsx)(i.code,{children:"UserDetailsService"}),", kt\xf3ra dostarcza szczeg\xf3\u0142y dotycz\u0105ce u\u017cytkownika na podstawie danych zapisanych w bazie."]}),"\n",(0,a.jsx)(i.h2,{id:"konfiguracja-zabezpiecze\u0144",children:"Konfiguracja Zabezpiecze\u0144"}),"\n",(0,a.jsx)(i.h3,{id:"securityconfig",children:(0,a.jsx)(i.code,{children:"SecurityConfig"})}),"\n",(0,a.jsxs)(i.p,{children:["Konfiguracja klasy ",(0,a.jsx)(i.code,{children:"SecurityConfig"})," obejmuje:"]}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Ustawienia zabezpiecze\u0144 Spring Security."}),"\n",(0,a.jsx)(i.li,{children:"Implementacj\u0119 filtrowania \u017c\u0105da\u0144 HTTP."}),"\n",(0,a.jsxs)(i.li,{children:["Integracj\u0119 token\xf3w JWT i ",(0,a.jsx)(i.code,{children:"RsaKeyProperties"})," dla uwierzytelnienia."]}),"\n"]}),"\n",(0,a.jsx)(i.h3,{id:"rsakeyproperties",children:(0,a.jsx)(i.code,{children:"RsaKeyProperties"})}),"\n",(0,a.jsx)(i.p,{children:"Plik konfiguracyjny zarz\u0105dzaj\u0105cy kluczami RSA, kt\xf3re s\u0105 wykorzystywane do podpisywania token\xf3w JWT."}),"\n",(0,a.jsx)(i.h2,{id:"instrukcja-krok-po-kroku",children:"Instrukcja Krok po Kroku"}),"\n",(0,a.jsx)(i.h3,{id:"krok-1-utworzenie-konta-u\u017cytkownika",children:"Krok 1: Utworzenie Konta U\u017cytkownika"}),"\n",(0,a.jsxs)(i.ol,{children:["\n",(0,a.jsxs)(i.li,{children:["Klient wysy\u0142a \u017c\u0105danie POST na endpoint ",(0,a.jsx)(i.code,{children:"/register"}),", zawieraj\u0105ce dane nowego u\u017cytkownika (np. ",(0,a.jsx)(i.code,{children:"username"})," i ",(0,a.jsx)(i.code,{children:"password"}),")."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.code,{children:"UserController"})," odbiera \u017c\u0105danie i przekazuje je do ",(0,a.jsx)(i.code,{children:"UserService"}),"."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.code,{children:"UserService"})," sprawdza, czy u\u017cytkownik o podanej nazwie ju\u017c istnieje i w razie potrzeby tworzy nowy rekord w bazie danych."]}),"\n"]}),"\n",(0,a.jsx)(i.h3,{id:"krok-2-zabezpieczenie-has\u0142a",children:"Krok 2: Zabezpieczenie Has\u0142a"}),"\n",(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsx)(i.li,{children:"Has\u0142o u\u017cytkownika jest haszowane przed zapisaniem w bazie przy u\u017cyciu BCryptPasswordEncoder, co zapewnia dodatkow\u0105 warstw\u0119 zabezpiecze\u0144."}),"\n"]}),"\n",(0,a.jsx)(i.h3,{id:"krok-3-generowanie-tokenu-jwt",children:"Krok 3: Generowanie Tokenu JWT"}),"\n",(0,a.jsxs)(i.ol,{children:["\n",(0,a.jsxs)(i.li,{children:["Po zako\u0144czeniu rejestracji ",(0,a.jsx)(i.code,{children:"TokenService"})," generuje token JWT dla nowego u\u017cytkownika."]}),"\n",(0,a.jsx)(i.li,{children:"Token ten jest zwracany do klienta, umo\u017cliwiaj\u0105c u\u017cytkownikowi autoryzacj\u0119 bez ponownego logowania."}),"\n"]})]})}function j(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var r=n(6540);const a={},s=r.createContext(a);function o(e){const i=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);